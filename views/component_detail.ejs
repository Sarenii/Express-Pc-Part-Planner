<% layout('layout') -%>

<section class="title"> 
  <h1><%= title %></h1>
  <button id="dropdown"><i class="fas fa-caret-down"></i></button>
    <div class="edit-links collapsed">
        <a href="<%= component.url%>/update"><i class="fas fa-wrench"></i></a>
        <a href="<%= component.url%>/delete"><i class="fas fa-trash"></i></a>
    </div>
</section>
<section class="component-details">
  <% if (component.fileName) { %>
    <div class="component-details--img">
      <img src="/images/<%= component.fileName %>" alt="<%= component.fileName %>">
    </div>
  <% } %>
 
  <div class="component-details--details">
    <div>
      <div class="th-small">Category</div>
      <a href="<%= category.url %>"><%= category.title %></a>
    </div>
    <div>
      <div class="th-small">Manufacturer</div>
      <a href="<%= manufacturer.url %>"><%= manufacturer.name %></a>
    </div>
    <div>
      <div class="th-small">Price</div>
      <span class="amount accent2">$<%= component.price %></span>
    </div>
    <div>
      <div class="th-small">Stock</div>
      <span class="inStock amount accent2"><%= component.inStock %></span>
    </div>
    <div class="features-list-container">
      <div class="th-small">Features</div>
      <ul>
        <% component.description.split(',').forEach(spec => { %>
          <% if (spec.trim().length > 0) { %>
            <li><%= spec %></li>
          <% } %>
        <% }) %>
      </ul>
    </div>
    <button class="yellow-btn add" data-categoryid="<%= category._id %> " data-partid='<%= component._id %>'>Add</button>
  </div>
</section>

<% block('scripts', "<script type='text/javascript' src='/javascripts/updateCookie.js'></script>") -%>
<% block('scripts', "<script type='text/javascript' src='/javascripts/dropdown.js'></script>") -%>